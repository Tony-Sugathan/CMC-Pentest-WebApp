<?php


namespace App\Controllers;


use App\Models\Users;
use Core\View;

class Profile extends \Core\Controller
{
    public function indexAction(){
        $userId = $this->route_params['id'];
        $user = Users::getById($userId);
        if(!$user){
            //doesn't exists, display error
            View::renderTemplate('404.twig');
        }else{
            View::renderTemplate('Users/user-details.twig', ['user'=>$user]);
        }
    }

    public function editAction(){
        //always edit own profile
        $user = Users::getCurrentUser();
        //display edit page
    }

    public function doEditAction(){
        //update DB
    }

    public function changePasswordAction(){
        //display change password page
    }

    public function doChangePasswordAction(){
        $user = Users::getCurrentUser();
        //check and update DB
    }
}